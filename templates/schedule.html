<!DOCTYPE html>
<html lang="ru" data-theme="dark" class="dark-theme">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark">
    <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 9–ë</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/schedule.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Geist:wght@400;500;600;700&family=Geist+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body class="design-new dark-theme">

    <div class="container">
        <header>
            <h1>–°–® ‚Ññ8 –≥. –ú–∏–Ω—Å–∫–∞. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 9–ë</h1>
            <div class="date-info">
                <span id="currentDate"></span>
            </div>
            <div class="schedule-legend">
                <div class="legend-item">
                    <div class="legend-color test"></div>
                    <span>–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color exam"></div>
                    <span>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</span>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã–π—Ç–∏ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
            <div id="regularControls" class="regular-controls">
                <a href="/" class="exit-button">–í—ã–π—Ç–∏</a>
            </div>
            
            <!-- –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã -->
            <div id="adminControls" class="admin-controls" style="display: none;">
                <button onclick="toggleSaturday()" id="saturdayToggle" class="admin-btn">–î–æ–±–∞–≤–∏—Ç—å —Å—É–±–±–æ—Ç—É</button>
                <select id="saturdaySchedule" class="saturday-select admin-btn" style="display: none;">
                    <option value="–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                    <option value="–í—Ç–æ—Ä–Ω–∏–∫">–í—Ç–æ—Ä–Ω–∏–∫</option>
                    <option value="–°—Ä–µ–¥–∞">–°—Ä–µ–¥–∞</option>
                    <option value="–ß–µ—Ç–≤–µ—Ä–≥">–ß–µ—Ç–≤–µ—Ä–≥</option>
                    <option value="–ü—è—Ç–Ω–∏—Ü–∞">–ü—è—Ç–Ω–∏—Ü–∞</option>
                </select>
                <button onclick="logout()" class="admin-btn exit-btn">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <div id="mobileProposeHint" class="mobile-hint">
            üí° –ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Ç–µ–º —á—Ç–æ —Ç—É—Ç –Ω–µ –∑–∞–ø–∏—Å–∞–Ω–æ (–∏–ª–∏ –∑–∞–ø–∏—Å–∞–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ) —Ç–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ –Ω–∞ —É—Ä–æ–∫ –∏ –Ω–∞–ø–∏—à–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–∑
        </div>

        <div class="schedule-container"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–ê–¥–º–∏–Ω: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –î–ó –∏ –Ω–∞–∑–≤–∞–Ω–∏—è —É—Ä–æ–∫–∞) -->
    <div id="homeworkModal" class="modal">
        <div class="modal-content">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–∫–∞</h2>
            <div class="modal-body">
                <div style="margin-bottom: 24px;">
                    <label class="mark-label" style="margin-bottom: 8px;">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞:</label>
                    <input type="text" id="adminLessonName" class="edit-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞">
                </div>

                <div id="normalSection">
                    <label class="mark-label" style="margin-bottom: 8px;">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:</label>
                    <textarea id="homeworkText" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ"></textarea>
                    <div class="homework-marks">
                        <label class="mark-label"><input type="checkbox" name="homeworkTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                        <label class="mark-label"><input type="checkbox" name="homeworkExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                    </div>
                </div>

                <div id="languageSection" style="display: none;">
                    <div class="language-input">
                        <label>
                            <span class="language-label" data-icon="GB">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫:</span>
                            <textarea id="englishText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É"></textarea>
                            <div class="language-marks">
                                <label class="mark-label"><input type="checkbox" name="englishTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                                <label class="mark-label"><input type="checkbox" name="englishExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                            </div>
                        </label>
                    </div>
                    <div class="language-input">
                        <label>
                            <span class="language-label" data-icon="DE">–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫:</span>
                            <textarea id="germanText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –Ω–µ–º–µ—Ü–∫–æ–º—É"></textarea>
                            <div class="language-marks">
                                <label class="mark-label"><input type="checkbox" name="germanTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                                <label class="mark-label"><input type="checkbox" name="germanExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                            </div>
                        </label>
                    </div>
                </div>

                <div id="splitSection" style="display: none;">
                    <div class="language-input">
                        <label>
                            <span class="language-label">üíª –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</span>
                            <textarea id="firstGroupText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ"></textarea>
                            <div class="language-marks">
                                <label class="mark-label"><input type="checkbox" name="firstGroupTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                                <label class="mark-label"><input type="checkbox" name="firstGroupExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                            </div>
                        </label>
                    </div>
                    <div class="language-input">
                        <label>
                            <span class="language-label">üõ†Ô∏è –¢—Ä—É–¥—ã</span>
                            <textarea id="secondGroupText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ —Ç—Ä—É–¥–∞–º"></textarea>
                            <div class="language-marks">
                                <label class="mark-label"><input type="checkbox" name="secondGroupTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                                <label class="mark-label"><input type="checkbox" name="secondGroupExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</label>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-buttons">
                <button onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button onclick="saveHomework()" class="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –î–ó) -->
    <div id="proposeModal" class="modal">
        <div class="modal-content">
            <h2>–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –î–ó</h2>
            <p id="proposeSelectedLesson" style="color: var(--text-secondary); margin-bottom: 16px; margin-top: -10px;"></p>
            
            <div class="modal-body">
                <div id="proposeNormalSection" style="display: none;">
                    <label class="mark-label" style="margin-bottom: 8px;">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:</label>
                    <textarea id="proposeNormText" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Ç—É—Ç –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ..."></textarea>
                </div>
                
                <div id="proposeLangSection" style="display: none;">
                    <div class="language-input" style="margin-bottom: 16px;">
                        <label><span class="language-label" data-icon="GB">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π:</span>
                        <textarea id="proposeEngText" placeholder="–î–ó –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É..."></textarea></label>
                    </div>
                    <div class="language-input">
                        <label><span class="language-label" data-icon="DE">–ù–µ–º–µ—Ü–∫–∏–π:</span>
                        <textarea id="proposeGerText" placeholder="–î–ó –ø–æ –Ω–µ–º–µ—Ü–∫–æ–º—É..."></textarea></label>
                    </div>
                </div>

                <div id="proposeSplitSection" style="display: none;">
                    <div class="language-input" style="margin-bottom: 16px;">
                        <label><span class="language-label">üíª –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞:</span>
                        <textarea id="proposeFirstText" placeholder="–î–ó –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ..."></textarea></label>
                    </div>
                    <div class="language-input">
                        <label><span class="language-label">üõ†Ô∏è –¢—Ä—É–¥—ã:</span>
                        <textarea id="proposeSecondText" placeholder="–î–ó –ø–æ —Ç—Ä—É–¥–∞–º..."></textarea></label>
                    </div>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button onclick="closeProposeModal()" style="flex: 1;">–û—Ç–º–µ–Ω–∞</button>
                <button onclick="submitProposal()" class="primary" style="flex: 1;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyARA6IQsVR8vhcWnvCScJaNA--IwsE4LCs",
            authDomain: "school8-schedule.firebaseapp.com",
            projectId: "school8-schedule",
            storageBucket: "school8-schedule.firebasestorage.app",
            messagingSenderId: "1006955591593",
            appId: "1:1006955591593:web:33e5baee111e37e526b6b8",
            measurementId: "G-KG4W72JRQK"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    <script src="{{ url_for('static', filename='js/design.js') }}"></script>
    <script src="{{ url_for('static', filename='js/schedule.js') }}"></script>
</body>
</html>