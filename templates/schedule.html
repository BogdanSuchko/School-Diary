<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 8–ë</title>
    <!-- –î–æ–±–∞–≤–ª—è–µ–º favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/schedule.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <!-- Firebase Realtime Database -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>–°–® ‚Ññ8 –≥. –ú–∏–Ω—Å–∫–∞. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ 8–ë</h1>
            <div class="date-info">
                <span id="currentDate"></span>
            </div>
            <div class="schedule-legend">
                <div class="legend-item">
                    <div class="legend-color test"></div>
                    <span>–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color exam"></div>
                    <span>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</span>
                </div>
            </div>
            <!-- –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ —ç–ª–µ–º–µ–Ω—Ç–∞ schedule-legend -->
            <div class="theme-toggle" onclick="toggleTheme()">
                <span class="toggle-label">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</span>
                <div class="toggle-switch"></div>
            </div>
            <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã–π—Ç–∏ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
            <div id="regularControls" class="regular-controls">
                <a href="/" class="exit-button">–í—ã–π—Ç–∏</a>
            </div>
            <!-- –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã -->
            <div id="adminControls" class="admin-controls" style="display: none;">
                <div style="display: flex; align-items: center;">
                    <button onclick="toggleSaturday()" id="saturdayToggle">–î–æ–±–∞–≤–∏—Ç—å —Å—É–±–±–æ—Ç—É</button>
                    <select id="saturdaySchedule" class="saturday-select" style="display: none;">
                        <option value="–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                        <option value="–í—Ç–æ—Ä–Ω–∏–∫">–í—Ç–æ—Ä–Ω–∏–∫</option>
                        <option value="–°—Ä–µ–¥–∞">–°—Ä–µ–¥–∞</option>
                        <option value="–ß–µ—Ç–≤–µ—Ä–≥">–ß–µ—Ç–≤–µ—Ä–≥</option>
                        <option value="–ü—è—Ç–Ω–∏—Ü–∞">–ü—è—Ç–Ω–∏—Ü–∞</option>
                    </select>
                </div>
                <button onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <div class="schedule-container">
            {% for day in ['–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–í—Ç–æ—Ä–Ω–∏–∫', '–°—Ä–µ–¥–∞', '–ß–µ—Ç–≤–µ—Ä–≥', '–ü—è—Ç–Ω–∏—Ü–∞', '–°—É–±–±–æ—Ç–∞'] %}
                {% if day in schedule %}
                <div class="day-card" data-day="{{ day }}">
                    <div class="day-header">
                        <h2 class="day-name">{{ day }}</h2>
                    </div>
                    <div class="lessons-list">
                        {% for lesson in schedule[day] %}
                        <div class="lesson-item" data-lesson="{{ lesson }}">
                            <div class="lesson-header">
                                <span class="lesson-name">{{ lesson }}</span>
                                <span class="lesson-time">{{ lesson_times[loop.index0] }}</span>
                            </div>
                            <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –î–ó -->
                            <div class="homework-container"></div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è -->
    <div id="homeworkModal" class="modal">
        <div class="modal-content">
            <h2>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>
            <p id="selectedLesson"></p>
            
            <!-- –û–±—ã—á–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è -->
            <textarea id="homeworkText" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ"></textarea>
            
            <!-- –î–æ–±–∞–≤–ª—è–µ–º —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ -->
            <div class="homework-marks">
                <label class="mark-label">
                    <input type="checkbox" name="homeworkTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                </label>
                <label class="mark-label">
                    <input type="checkbox" name="homeworkExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                </label>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ -->
            <div id="languageSection" style="display: none;">
                <div class="language-input">
                    <label>
                        <span class="language-label" data-icon="GB">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫:</span>
                        <textarea id="englishText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É"></textarea>
                        <div class="language-marks">
                            <label class="mark-label">
                                <input type="checkbox" name="englishTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                            <label class="mark-label">
                                <input type="checkbox" name="englishExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                        </div>
                    </label>
                </div>
                <div class="language-input">
                    <label>
                        <span class="language-label" data-icon="DE">–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫:</span>
                        <textarea id="germanText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –Ω–µ–º–µ—Ü–∫–æ–º—É"></textarea>
                        <div class="language-marks">
                            <label class="mark-label">
                                <input type="checkbox" name="germanTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                            <label class="mark-label">
                                <input type="checkbox" name="germanExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                        </div>
                    </label>
                </div>
            </div>

            <!-- –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–∫—Ü–∏—é –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ -->
            <div id="splitSection" style="display: none;">
                <div class="language-input">
                    <label>
                        <span class="language-label">üíª –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</span>
                        <textarea id="firstGroupText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ"></textarea>
                        <div class="language-marks">
                            <label class="mark-label">
                                <input type="checkbox" name="firstGroupTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                            <label class="mark-label">
                                <input type="checkbox" name="firstGroupExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                        </div>
                    </label>
                </div>
                <div class="language-input">
                    <label>
                        <span class="language-label">üõ†Ô∏è –¢—Ä—É–¥—ã</span>
                        <textarea id="secondGroupText" placeholder="–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ —Ç—Ä—É–¥–∞–º"></textarea>
                        <div class="language-marks">
                            <label class="mark-label">
                                <input type="checkbox" name="secondGroupTest"> –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                            <label class="mark-label">
                                <input type="checkbox" name="secondGroupExam"> –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
                            </label>
                        </div>
                    </label>
                </div>
            </div>

            <div class="modal-buttons">
                <button onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                <button onclick="saveHomework()" class="primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase -->
    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyARA6IQsVR8vhcWnvCScJaNA--IwsE4LCs",
            authDomain: "school8-schedule.firebaseapp.com",
            projectId: "school8-schedule",
            storageBucket: "school8-schedule.firebasestorage.app",
            messagingSenderId: "1006955591593",
            appId: "1:1006955591593:web:33e5baee111e37e526b6b8",
            measurementId: "G-KG4W72JRQK"
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="{{ url_for('static', filename='js/schedule.js') }}"></script>
</body>
</html> 